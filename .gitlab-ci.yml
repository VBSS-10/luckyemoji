image: node:latest

cache:
    paths:
        - node_modules/

stages:
    - build
    - deploy

build:
    stage: build
    script:
        - npm install
        - npm run build # Команда для сборки проекта, замените на вашу, если другая
    artifacts:
        paths:
            - dist/ # Укажите папку, которая содержит итоговые статические файлы
        expire_in: 1 week

pages:
    stage: deploy
    script:
        - mv dist public # Переименовываем папку dist в public
    artifacts:
        paths:
            - public
    only:
        - main # Деплой выполняется только с ветки main

